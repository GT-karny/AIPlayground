# やりたいこと（実装仕様）

## 1. 正確な web 検索
- [ ] 事実確認が必要な質問では `web_search` を優先して使う
- [ ] 検索クエリは1回だけでなく、`元クエリ + 補助クエリ` で複数回試す
- [ ] 同じ URL の重複を除外し、信頼度の高いドメインを上位に並べる
- [ ] 回答では主要な主張に出典 URL を付ける
- [ ] 十分な根拠がない場合は断定しない

## 2. 自然な会話
- [ ] 会話モードでは話し言葉ベースで返す
- [ ] 不要に硬い定型文（毎回「概要/根拠/不確実」固定）を避ける
- [ ] 1返答を必要以上に長文化しない
- [ ] 将来の音声対話を想定して、短く区切った自然な文を優先する

## 3. 不明点の自律質問
- [ ] ユーザー意図が曖昧な場合は即回答せず確認質問を返す
- [ ] 確認質問は 2〜3 個の選択肢つきで返す
- [ ] 選択肢は「何を重視するか」「対象範囲」「詳細度」など判断に必要な軸にする
- [ ] ユーザー回答後に本回答へ進む

## 4. 受け入れ条件（最低限）
- [ ] 事実質問: 検索 + URL付き回答になる
- [ ] 雑談: 検索に頼りすぎず自然な会話になる
- [ ] 曖昧質問: まず選択肢付き確認質問になる
